"use strict";(self.webpackChunkgreenedumap_docs=self.webpackChunkgreenedumap_docs||[]).push([[970],{7731:(e,n,i)=>{i.r(n),i.d(n,{assets:()=>l,contentTitle:()=>h,default:()=>o,frontMatter:()=>r,metadata:()=>s,toc:()=>d});var c=i(4848),t=i(8453);const r={},h="\ud83c\udf10 API Gateway Service",s={id:"Services/APIGatewayService/Readme",title:"\ud83c\udf10 API Gateway Service",description:"\ud83d\udccb T\u1ed5ng quan",source:"@site/docs/Services/APIGatewayService/Readme.md",sourceDirName:"Services/APIGatewayService",slug:"/Services/APIGatewayService/",permalink:"/GreenEduMap-DTUDZ-documents/Services/APIGatewayService/",draft:!1,unlisted:!1,editUrl:"https://github.com/HoDuongQuocHuy278/GreenEduMap-DTUDZ-documents/edit/main/docs/Services/APIGatewayService/Readme.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"\ud83d\udcda GreenEduMap Services Documentation",permalink:"/GreenEduMap-DTUDZ-documents/Services/"},next:{title:"\ud83d\udd10 Auth Service",permalink:"/GreenEduMap-DTUDZ-documents/Services/AuthService/"}},l={},d=[{value:"\ud83d\udccb T\u1ed5ng quan",id:"-t\u1ed5ng-quan",level:2},{value:"\ud83c\udfaf Ch\u1ee9c n\u0103ng ch\xednh",id:"-ch\u1ee9c-n\u0103ng-ch\xednh",level:2},{value:"\ud83d\udd00 \u0110\u1ecbnh tuy\u1ebfn v\xe0 \u0110i\u1ec1u ph\u1ed1i",id:"-\u0111\u1ecbnh-tuy\u1ebfn-v\xe0-\u0111i\u1ec1u-ph\u1ed1i",level:3},{value:"\ud83d\udd0d Service Discovery",id:"-service-discovery",level:3},{value:"\ud83c\udf0d Public OpenData API",id:"-public-opendata-api",level:3},{value:"\ud83d\udd17 H\u1ed7 tr\u1ee3 NGSI-LD",id:"-h\u1ed7-tr\u1ee3-ngsi-ld",level:3},{value:"\ud83d\udee1\ufe0f B\u1ea3o m\u1eadt v\xe0 Rate Limiting",id:"\ufe0f-b\u1ea3o-m\u1eadt-v\xe0-rate-limiting",level:3},{value:"\ud83d\udcca Gi\xe1m s\xe1t v\xe0 Logging",id:"-gi\xe1m-s\xe1t-v\xe0-logging",level:3},{value:"\ud83c\udfd7\ufe0f C\xe1c th\xe0nh ph\u1ea7n",id:"\ufe0f-c\xe1c-th\xe0nh-ph\u1ea7n",level:2},{value:"\ud83d\udd0c K\u1ebft n\u1ed1i Services",id:"-k\u1ebft-n\u1ed1i-services",level:2},{value:"\ud83d\udd0d Health Check",id:"-health-check",level:2},{value:"\ud83d\udcc4 License",id:"-license",level:2}];function a(e){const n={a:"a",br:"br",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...(0,t.R)(),...e.components};return(0,c.jsxs)(c.Fragment,{children:[(0,c.jsx)(n.h1,{id:"-api-gateway-service",children:"\ud83c\udf10 API Gateway Service"}),"\n",(0,c.jsx)(n.h2,{id:"-t\u1ed5ng-quan",children:"\ud83d\udccb T\u1ed5ng quan"}),"\n",(0,c.jsxs)(n.p,{children:[(0,c.jsx)(n.strong,{children:"Ng\xf4n ng\u1eef l\u1eadp tr\xecnh:"})," Python 3.11 + FastAPI",(0,c.jsx)(n.br,{}),"\n",(0,c.jsx)(n.strong,{children:"Port:"})," 8000",(0,c.jsx)(n.br,{}),"\n",(0,c.jsx)(n.strong,{children:"Tr\u1ea1ng th\xe1i:"})," \u2705 Ho\u1ea1t \u0111\u1ed9ng"]}),"\n",(0,c.jsxs)(n.p,{children:["API Gateway l\xe0 c\u1ed5ng trung t\xe2m cho ki\u1ebfn tr\xfac microservices c\u1ee7a ",(0,c.jsx)(n.strong,{children:"GreenEduMap"}),", cung c\u1ea5p \u0111i\u1ec3m truy c\u1eadp duy nh\u1ea5t cho t\u1ea5t c\u1ea3 c\xe1c d\u1ecbch v\u1ee5 backend."]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"-ch\u1ee9c-n\u0103ng-ch\xednh",children:"\ud83c\udfaf Ch\u1ee9c n\u0103ng ch\xednh"}),"\n",(0,c.jsx)(n.h3,{id:"-\u0111\u1ecbnh-tuy\u1ebfn-v\xe0-\u0111i\u1ec1u-ph\u1ed1i",children:"\ud83d\udd00 \u0110\u1ecbnh tuy\u1ebfn v\xe0 \u0110i\u1ec1u ph\u1ed1i"}),"\n",(0,c.jsx)(n.p,{children:"Gateway ti\u1ebfp nh\u1eadn t\u1ea5t c\u1ea3 request t\u1eeb client v\xe0 chuy\u1ec3n ti\u1ebfp \u0111\u1ebfn microservice ph\xf9 h\u1ee3p. H\u1ed7 tr\u1ee3 load balancing gi\u1eefa c\xe1c instance, circuit breaker \u0111\u1ec3 x\u1eed l\xfd l\u1ed7i service, v\xe0 retry logic v\u1edbi exponential backoff cho c\xe1c request th\u1ea5t b\u1ea1i."}),"\n",(0,c.jsx)(n.h3,{id:"-service-discovery",children:"\ud83d\udd0d Service Discovery"}),"\n",(0,c.jsx)(n.p,{children:"T\u1ef1 \u0111\u1ed9ng ph\xe1t hi\u1ec7n c\xe1c services \u0111ang ho\u1ea1t \u0111\u1ed9ng, th\u1ef1c hi\u1ec7n health check \u0111\u1ecbnh k\u1ef3, c\u1ea5u h\xecnh routing \u0111\u1ed9ng v\xe0 x\u1eed l\xfd failover khi service g\u1eb7p s\u1ef1 c\u1ed1."}),"\n",(0,c.jsx)(n.h3,{id:"-public-opendata-api",children:"\ud83c\udf0d Public OpenData API"}),"\n",(0,c.jsxs)(n.p,{children:["Cung c\u1ea5p d\u1eef li\u1ec7u c\xf4ng khai ",(0,c.jsx)(n.strong,{children:"kh\xf4ng y\xeau c\u1ea7u x\xe1c th\u1ef1c"}),", tu\xe2n th\u1ee7 chu\u1ea9n Open Data:"]}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsx)(n.li,{children:"D\u1eef li\u1ec7u ch\u1ea5t l\u01b0\u1ee3ng kh\xf4ng kh\xed theo v\u1ecb tr\xed"}),"\n",(0,c.jsx)(n.li,{children:"Th\u1eddi ti\u1ebft hi\u1ec7n t\u1ea1i v\xe0 d\u1ef1 b\xe1o"}),"\n",(0,c.jsx)(n.li,{children:"Th\xf4ng tin tr\u01b0\u1eddng h\u1ecdc v\xe0 \u0111i\u1ec3m xanh"}),"\n",(0,c.jsx)(n.li,{children:"Danh s\xe1ch kh\xf3a h\u1ecdc gi\xe1o d\u1ee5c m\xf4i tr\u01b0\u1eddng"}),"\n",(0,c.jsx)(n.li,{children:"Xu\u1ea5t d\u1eef li\u1ec7u CSV v\xe0 GeoJSON"}),"\n"]}),"\n",(0,c.jsx)(n.h3,{id:"-h\u1ed7-tr\u1ee3-ngsi-ld",children:"\ud83d\udd17 H\u1ed7 tr\u1ee3 NGSI-LD"}),"\n",(0,c.jsxs)(n.p,{children:["Gateway h\u1ed7 tr\u1ee3 chu\u1ea9n ",(0,c.jsx)(n.strong,{children:"NGSI-LD"})," (ETSI GS CIM 009) cho Smart Cities, cho ph\xe9p qu\u1ea3n l\xfd entities theo chu\u1ea9n qu\u1ed1c t\u1ebf v\u1edbi c\xe1c thao t\xe1c t\u1ea1o, \u0111\u1ecdc, c\u1eadp nh\u1eadt v\xe0 x\xf3a."]}),"\n",(0,c.jsx)(n.h3,{id:"\ufe0f-b\u1ea3o-m\u1eadt-v\xe0-rate-limiting",children:"\ud83d\udee1\ufe0f B\u1ea3o m\u1eadt v\xe0 Rate Limiting"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Rate Limiting"}),": Gi\u1edbi h\u1ea1n request theo IP v\xe0 API key, s\u1eed d\u1ee5ng Redis \u0111\u1ec3 l\u01b0u tr\u1eef counters"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"CORS"}),": C\u1ea5u h\xecnh linh ho\u1ea1t cho ph\xe9p c\xe1c origin \u0111\u01b0\u1ee3c ch\u1ec9 \u0111\u1ecbnh"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Authentication"}),": X\xe1c th\u1ef1c JWT token v\xe0 API key cho c\xe1c endpoint \u0111\u01b0\u1ee3c b\u1ea3o v\u1ec7"]}),"\n"]}),"\n",(0,c.jsx)(n.h3,{id:"-gi\xe1m-s\xe1t-v\xe0-logging",children:"\ud83d\udcca Gi\xe1m s\xe1t v\xe0 Logging"}),"\n",(0,c.jsx)(n.p,{children:"Gateway thu th\u1eadp metrics v\u1ec1 th\u1eddi gian x\u1eed l\xfd request, t\u1ef7 l\u1ec7 l\u1ed7i, throughput v\xe0 tr\u1ea1ng th\xe1i c\xe1c downstream services. H\u1ed7 tr\u1ee3 distributed tracing v\u1edbi correlation IDs \u0111\u1ec3 theo d\xf5i request end-to-end."}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"\ufe0f-c\xe1c-th\xe0nh-ph\u1ea7n",children:"\ud83c\udfd7\ufe0f C\xe1c th\xe0nh ph\u1ea7n"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Rate Limiter"})," - Ki\u1ec3m so\xe1t s\u1ed1 l\u01b0\u1ee3ng request"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"CORS Handler"})," - X\u1eed l\xfd Cross-Origin requests"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Router"})," - \u0110\u1ecbnh tuy\u1ebfn \u0111\u1ebfn services ph\xf9 h\u1ee3p"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Auth Checker"})," - X\xe1c th\u1ef1c JWT v\xe0 API Key"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Logger"})," - Ghi log structured JSON"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Metrics"})," - Thu th\u1eadp Prometheus metrics"]}),"\n"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"-k\u1ebft-n\u1ed1i-services",children:"\ud83d\udd0c K\u1ebft n\u1ed1i Services"}),"\n",(0,c.jsx)(n.p,{children:"Gateway k\u1ebft n\u1ed1i v\xe0 \u0111i\u1ec1u ph\u1ed1i 6 microservices:"}),"\n",(0,c.jsxs)(n.ul,{children:["\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Auth Service"})," (8001) - X\xe1c th\u1ef1c v\xe0 ph\xe2n quy\u1ec1n"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Environment Service"})," (8007) - D\u1eef li\u1ec7u m\xf4i tr\u01b0\u1eddng"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Education Service"})," (8008) - Tr\u01b0\u1eddng h\u1ecdc v\xe0 kh\xf3a h\u1ecdc"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"Resource Service"})," (8004) - Khu v\u1ef1c xanh v\xe0 t\xe0i nguy\xean"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"AI Service"})," (8006) - Machine learning"]}),"\n",(0,c.jsxs)(n.li,{children:[(0,c.jsx)(n.strong,{children:"OpenData Service"})," (8009) - D\u1eef li\u1ec7u m\u1edf"]}),"\n"]}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"-health-check",children:"\ud83d\udd0d Health Check"}),"\n",(0,c.jsx)(n.p,{children:"Gateway cung c\u1ea5p endpoint ki\u1ec3m tra s\u1ee9c kh\u1ecfe t\u1ed5ng h\u1ee3p, hi\u1ec3n th\u1ecb tr\u1ea1ng th\xe1i c\u1ee7a b\u1ea3n th\xe2n gateway, t\u1ea5t c\u1ea3 downstream services v\xe0 c\xe1c dependencies nh\u01b0 Redis, RabbitMQ."}),"\n",(0,c.jsx)(n.hr,{}),"\n",(0,c.jsx)(n.h2,{id:"-license",children:"\ud83d\udcc4 License"}),"\n",(0,c.jsxs)(n.p,{children:["D\u1ef1 \xe1n n\xe0y \u0111\u01b0\u1ee3c ph\xe2n ph\u1ed1i d\u01b0\u1edbi ",(0,c.jsx)(n.a,{href:"https://github.com/HoDuongQuocHuy278/GreenEduMap-DTUDZ/blob/main/LICENSE",children:"GNU General Public License v3.0"}),"."]})]})}function o(e={}){const{wrapper:n}={...(0,t.R)(),...e.components};return n?(0,c.jsx)(n,{...e,children:(0,c.jsx)(a,{...e})}):a(e)}},8453:(e,n,i)=>{i.d(n,{R:()=>h,x:()=>s});var c=i(6540);const t={},r=c.createContext(t);function h(e){const n=c.useContext(r);return c.useMemo(function(){return"function"==typeof e?e(n):{...n,...e}},[n,e])}function s(e){let n;return n=e.disableParentContext?"function"==typeof e.components?e.components(t):e.components||t:h(e.components),c.createElement(r.Provider,{value:n},e.children)}}}]);