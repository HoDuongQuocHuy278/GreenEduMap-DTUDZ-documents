"use strict";(self.webpackChunkgreenedumap_docs=self.webpackChunkgreenedumap_docs||[]).push([[735],{687:(n,e,t)=>{t.d(e,{A:()=>i});const i=t.p+"assets/images/Kien_truc_he_thong_GreenEduMap-20ffeeb19a9d0ef46f33b8c7e7c1d13c.png"},5651:(n,e,t)=>{t.r(e),t.d(e,{assets:()=>c,contentTitle:()=>s,default:()=>a,frontMatter:()=>r,metadata:()=>h,toc:()=>d});var i=t(4848),l=t(8453);const r={},s="\ud83c\udfd7\ufe0f Ki\u1ebfn tr\xfac h\u1ec7 th\u1ed1ng GreenEduMap",h={id:"Architecture",title:"\ud83c\udfd7\ufe0f Ki\u1ebfn tr\xfac h\u1ec7 th\u1ed1ng GreenEduMap",description:"Ki\u1ebfn tr\xfac h\u1ec7 th\u1ed1ng",source:"@site/docs/Architecture.md",sourceDirName:".",slug:"/Architecture",permalink:"/GreenEduMap-DTUDZ-documents/Architecture",draft:!1,unlisted:!1,editUrl:"https://github.com/HoDuongQuocHuy278/GreenEduMap-DTUDZ-documents/edit/main/docs/Architecture.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"\ud83d\udcdd T\u1ed5ng quan v\u1ec1 GreenEduMap",permalink:"/GreenEduMap-DTUDZ-documents/GettingStarted"},next:{title:"\ud83d\udce6 H\u01b0\u1edbng d\u1eabn c\xe0i \u0111\u1eb7t GreenEduMap",permalink:"/GreenEduMap-DTUDZ-documents/Installation"}},c={},d=[{value:"T\u1ed5ng quan",id:"t\u1ed5ng-quan",level:2},{value:"Th\xe0nh ph\u1ea7n v\xe0 c\xf4ng ngh\u1ec7",id:"th\xe0nh-ph\u1ea7n-v\xe0-c\xf4ng-ngh\u1ec7",level:2},{value:"Lu\u1ed3ng d\u1eef li\u1ec7u chi ti\u1ebft",id:"lu\u1ed3ng-d\u1eef-li\u1ec7u-chi-ti\u1ebft",level:2},{value:"1. Ingestion Layer (Thu th\u1eadp d\u1eef li\u1ec7u)",id:"1-ingestion-layer-thu-th\u1eadp-d\u1eef-li\u1ec7u",level:3},{value:"2. Core Layer (X\u1eed l\xfd trung t\xe2m)",id:"2-core-layer-x\u1eed-l\xfd-trung-t\xe2m",level:3},{value:"3. Processing &amp; AI Layer",id:"3-processing--ai-layer",level:3},{value:"4. Storage Layer (L\u01b0u tr\u1eef)",id:"4-storage-layer-l\u01b0u-tr\u1eef",level:3},{value:"5. Notification &amp; Realtime Layer",id:"5-notification--realtime-layer",level:3},{value:"Ki\u1ebfn tr\xfac Microservices",id:"ki\u1ebfn-tr\xfac-microservices",level:2},{value:"Quy tr\xecnh ho\u1ea1t \u0111\u1ed9ng ch\xednh",id:"quy-tr\xecnh-ho\u1ea1t-\u0111\u1ed9ng-ch\xednh",level:2}];function o(n){const e={a:"a",h1:"h1",h2:"h2",h3:"h3",img:"img",li:"li",ol:"ol",p:"p",strong:"strong",table:"table",tbody:"tbody",td:"td",th:"th",thead:"thead",tr:"tr",ul:"ul",...(0,l.R)(),...n.components};return(0,i.jsxs)(i.Fragment,{children:[(0,i.jsx)(e.h1,{id:"\ufe0f-ki\u1ebfn-tr\xfac-h\u1ec7-th\u1ed1ng-greenedumap",children:"\ud83c\udfd7\ufe0f Ki\u1ebfn tr\xfac h\u1ec7 th\u1ed1ng GreenEduMap"}),"\n",(0,i.jsx)(e.p,{children:(0,i.jsx)(e.img,{alt:"Ki\u1ebfn tr\xfac h\u1ec7 th\u1ed1ng",src:t(687).A+"",width:"1024",height:"576"})}),"\n",(0,i.jsx)(e.h2,{id:"t\u1ed5ng-quan",children:"T\u1ed5ng quan"}),"\n",(0,i.jsxs)(e.p,{children:["GreenEduMap \u0111\u01b0\u1ee3c thi\u1ebft k\u1ebf theo ki\u1ebfn tr\xfac ",(0,i.jsx)(e.strong,{children:"Microservices"})," h\u01b0\u1edbng s\u1ef1 ki\u1ec7n (Event-Driven), t\xedch h\u1ee3p IoT v\xe0 AI \u0111\u1ec3 x\u1eed l\xfd d\u1eef li\u1ec7u m\xf4i tr\u01b0\u1eddng v\xe0 gi\xe1o d\u1ee5c theo th\u1eddi gian th\u1ef1c."]}),"\n",(0,i.jsx)(e.h2,{id:"th\xe0nh-ph\u1ea7n-v\xe0-c\xf4ng-ngh\u1ec7",children:"Th\xe0nh ph\u1ea7n v\xe0 c\xf4ng ngh\u1ec7"}),"\n",(0,i.jsxs)(e.table,{children:[(0,i.jsx)(e.thead,{children:(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"Th\xe0nh ph\u1ea7n"}),(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"C\xf4ng ngh\u1ec7 s\u1eed d\u1ee5ng"}),(0,i.jsx)(e.th,{style:{textAlign:"left"},children:"Vai tr\xf2"})]})}),(0,i.jsxs)(e.tbody,{children:[(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.strong,{children:"Web App"})}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"Next.js 14"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"Giao di\u1ec7n web, b\u1ea3n \u0111\u1ed3 3D"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.strong,{children:"Mobile App"})}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"React Native (iOS & Android)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"\u1ee8ng d\u1ee5ng di \u0111\u1ed9ng \u0111a n\u1ec1n t\u1ea3ng"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.strong,{children:"Backend Core"})}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"FastAPI (Python), Redis (Cache), JWT"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"X\u1eed l\xfd logic ch\xednh, API Management"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.strong,{children:"AI/ML Service"})}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"Python 3.11, scikit-learn, pandas, aio-pika"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"NLP, Machine Learning, x\u1eed l\xfd d\u1eef li\u1ec7u"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.strong,{children:"Message Broker"})}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"RabbitMQ, MQTT (EMQX)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"X\u1eed l\xfd th\xf4ng \u0111i\u1ec7p, IoT ingestion"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.strong,{children:"IoT Ingestion"})}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"MQTT Broker, IoT Adapter"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"Thu th\u1eadp d\u1eef li\u1ec7u t\u1eeb c\u1ea3m bi\u1ebfn"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.strong,{children:"Database"})}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"PostgreSQL + PostGIS, MongoDB"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"L\u01b0u tr\u1eef d\u1eef li\u1ec7u quan h\u1ec7 v\xe0 NoSQL"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.strong,{children:"Semantic Layer"})}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"FiWARE Orion-LD (NGSI-LD)"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"Qu\u1ea3n l\xfd ng\u1eef c\u1ea3nh, Linked Data"})]}),(0,i.jsxs)(e.tr,{children:[(0,i.jsx)(e.td,{style:{textAlign:"left"},children:(0,i.jsx)(e.strong,{children:"Real-time"})}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"WebSocket"}),(0,i.jsx)(e.td,{style:{textAlign:"left"},children:"Th\xf4ng b\xe1o th\u1eddi gian th\u1ef1c"})]})]})]}),"\n",(0,i.jsx)(e.h2,{id:"lu\u1ed3ng-d\u1eef-li\u1ec7u-chi-ti\u1ebft",children:"Lu\u1ed3ng d\u1eef li\u1ec7u chi ti\u1ebft"}),"\n",(0,i.jsx)(e.h3,{id:"1-ingestion-layer-thu-th\u1eadp-d\u1eef-li\u1ec7u",children:"1. Ingestion Layer (Thu th\u1eadp d\u1eef li\u1ec7u)"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Sensor & IoT"}),": C\xe1c thi\u1ebft b\u1ecb c\u1ea3m bi\u1ebfn g\u1eedi d\u1eef li\u1ec7u qua ",(0,i.jsx)(e.strong,{children:"MQTT Broker"}),"."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"RabbitMQ"}),": \u0110\xf3ng vai tr\xf2 backbone cho vi\u1ec7c truy\u1ec1n t\u1ea3i d\u1eef li\u1ec7u s\u1ef1 ki\u1ec7n (event streaming) t\u1eeb IoT v\xe0 c\xe1c services kh\xe1c."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Adapters"}),":","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"IoT Adapter"}),": Chu\u1ea9n h\xf3a d\u1eef li\u1ec7u c\u1ea3m bi\u1ebfn t\u1eeb MQTT \u0111\u1ea9y v\xe0o RabbitMQ."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"NLP"}),": X\u1eed l\xfd d\u1eef li\u1ec7u v\u0103n b\u1ea3n."]}),"\n"]}),"\n"]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"2-core-layer-x\u1eed-l\xfd-trung-t\xe2m",children:"2. Core Layer (X\u1eed l\xfd trung t\xe2m)"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"API Gateway (Traefik)"}),": \u0110i\u1ec1u h\u01b0\u1edbng request v\xe0 t\xedch h\u1ee3p v\u1edbi ",(0,i.jsx)(e.strong,{children:"Keycloak"})," \u0111\u1ec3 x\xe1c th\u1ef1c (JWT)."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Backend Core (FastAPI)"}),":","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"X\u1eed l\xfd nghi\u1ec7p v\u1ee5 ch\xednh (User, School, Education)."}),"\n",(0,i.jsx)(e.li,{children:"T\u01b0\u01a1ng t\xe1c v\u1edbi Database v\xe0 Cache."}),"\n",(0,i.jsx)(e.li,{children:"G\u1eedi job x\u1eed l\xfd n\u1ec1n v\xe0o Queue."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Context Broker (FiWARE Orion-LD)"}),": Qu\u1ea3n l\xfd d\u1eef li\u1ec7u ng\u1eef c\u1ea3nh (Context Data) theo chu\u1ea9n NGSI-LD, l\u01b0u tr\u1eef entity v\xe0o MongoDB."]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"3-processing--ai-layer",children:"3. Processing & AI Layer"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"AI Services (FastAPI)"}),":","\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsx)(e.li,{children:"Nh\u1eadn d\u1eef li\u1ec7u t\u1eeb RabbitMQ ho\u1eb7c API call t\u1eeb Backend Core."}),"\n",(0,i.jsx)(e.li,{children:"Th\u1ef1c hi\u1ec7n ph\xe2n t\xedch NLP."}),"\n"]}),"\n"]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Workers"}),": C\xe1c worker (Celery Worker) x\u1eed l\xfd t\xe1c v\u1ee5 t\u1eeb RabbitMQ/Redis."]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"4-storage-layer-l\u01b0u-tr\u1eef",children:"4. Storage Layer (L\u01b0u tr\u1eef)"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"PostgreSQL + PostGIS"}),": L\u01b0u tr\u1eef d\u1eef li\u1ec7u quan h\u1ec7 v\xe0 kh\xf4ng gian (GIS)."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"MongoDB"}),": L\u01b0u tr\u1eef d\u1eef li\u1ec7u ng\u1eef ngh\u0129a (Semantic Data) cho Orion-LD."]}),"\n"]}),"\n",(0,i.jsx)(e.h3,{id:"5-notification--realtime-layer",children:"5. Notification & Realtime Layer"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Reverb"}),": Server WebSocket \u0111\u1ec3 \u0111\u1ea9y th\xf4ng b\xe1o realtime xu\u1ed1ng Client (Web/App)."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Notify Service"}),": Module \u0111\u1ec3 g\u1eedi Email/SMS/Push Notification."]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"ki\u1ebfn-tr\xfac-microservices",children:"Ki\u1ebfn tr\xfac Microservices"}),"\n",(0,i.jsx)(e.p,{children:"H\u1ec7 th\u1ed1ng bao g\u1ed3m c\xe1c th\xe0nh ph\u1ea7n ch\xednh:"}),"\n",(0,i.jsxs)(e.ul,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"FastAPI Core"}),": Service ch\xednh qu\u1ea3n l\xfd logic nghi\u1ec7p v\u1ee5."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"AI Service (Python)"}),": Service chuy\xean bi\u1ec7t cho AI/ML."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"FiWARE Orion-LD"}),": Service qu\u1ea3n l\xfd Context & IoT."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Auth Service (Keycloak)"}),": Qu\u1ea3n l\xfd \u0111\u1ecbnh danh t\u1eadp trung."]}),"\n"]}),"\n",(0,i.jsx)(e.h2,{id:"quy-tr\xecnh-ho\u1ea1t-\u0111\u1ed9ng-ch\xednh",children:"Quy tr\xecnh ho\u1ea1t \u0111\u1ed9ng ch\xednh"}),"\n",(0,i.jsxs)(e.ol,{children:["\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Client (App/Web)"})," g\u1ecdi API qua ",(0,i.jsx)(e.strong,{children:"Traefik"})," -> ",(0,i.jsx)(e.strong,{children:"FastAPI Core"}),"."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"FastAPI Core"})," x\u1eed l\xfd logic, l\u01b0u DB, v\xe0 b\u1eafn s\u1ef1 ki\u1ec7n sang ",(0,i.jsx)(e.strong,{children:"RabbitMQ"})," (n\u1ebfu c\u1ea7n)."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"IoT Device"})," g\u1eedi data -> ",(0,i.jsx)(e.strong,{children:"MQTT"})," -> ",(0,i.jsx)(e.strong,{children:"RabbitMQ"})," -> ",(0,i.jsx)(e.strong,{children:"FastAPI/FiWARE"})," ti\xeau th\u1ee5."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"FiWARE Orion-LD"})," c\u1eadp nh\u1eadt tr\u1ea1ng th\xe1i th\u1ef1c th\u1ec3 (Entity) v\xe0o ",(0,i.jsx)(e.strong,{children:"MongoDB"}),"."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"AI Service"})," l\u1eafng nghe ",(0,i.jsx)(e.strong,{children:"RabbitMQ"}),", ph\xe2n t\xedch v\xe0 c\u1eadp nh\u1eadt l\u1ea1i k\u1ebft qu\u1ea3."]}),"\n",(0,i.jsxs)(e.li,{children:[(0,i.jsx)(e.strong,{children:"Reverb"})," nh\u1eadn s\u1ef1 ki\u1ec7n t\u1eeb ",(0,i.jsx)(e.strong,{children:"FastAPI/RabbitMQ"})," v\xe0 \u0111\u1ea9y xu\u1ed1ng Client."]}),"\n"]}),"\n",(0,i.jsxs)(e.p,{children:["Xem chi ti\u1ebft h\u01b0\u1edbng d\u1eabn c\xe0i \u0111\u1eb7t t\u1ea1i ",(0,i.jsx)(e.a,{href:"/GreenEduMap-DTUDZ-documents/Installation",children:"Installation.md"}),"."]})]})}function a(n={}){const{wrapper:e}={...(0,l.R)(),...n.components};return e?(0,i.jsx)(e,{...n,children:(0,i.jsx)(o,{...n})}):o(n)}},8453:(n,e,t)=>{t.d(e,{R:()=>s,x:()=>h});var i=t(6540);const l={},r=i.createContext(l);function s(n){const e=i.useContext(r);return i.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function h(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(l):n.components||l:s(n.components),i.createElement(r.Provider,{value:e},n.children)}}}]);