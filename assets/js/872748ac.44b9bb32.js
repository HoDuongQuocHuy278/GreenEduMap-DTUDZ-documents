"use strict";(self.webpackChunkgreenedumap_docs=self.webpackChunkgreenedumap_docs||[]).push([[561],{2579:(n,e,i)=>{i.r(e),i.d(e,{assets:()=>l,contentTitle:()=>s,default:()=>u,frontMatter:()=>h,metadata:()=>c,toc:()=>d});var t=i(4848),r=i(8453);const h={},s="\ud83d\udd10 Auth Service",c={id:"Services/AuthService/Readme",title:"\ud83d\udd10 Auth Service",description:"\ud83d\udccb T\u1ed5ng quan",source:"@site/docs/Services/AuthService/Readme.md",sourceDirName:"Services/AuthService",slug:"/Services/AuthService/",permalink:"/GreenEduMap-DTUDZ-documents/Services/AuthService/",draft:!1,unlisted:!1,editUrl:"https://github.com/HoDuongQuocHuy278/GreenEduMap-DTUDZ-documents/edit/main/docs/Services/AuthService/Readme.md",tags:[],version:"current",frontMatter:{},sidebar:"tutorialSidebar",previous:{title:"\ud83c\udf10 API Gateway Service",permalink:"/GreenEduMap-DTUDZ-documents/Services/APIGatewayService/"},next:{title:"\ud83c\udf93 Education Service",permalink:"/GreenEduMap-DTUDZ-documents/Services/EducationService/"}},l={},d=[{value:"\ud83d\udccb T\u1ed5ng quan",id:"-t\u1ed5ng-quan",level:2},{value:"\ud83c\udfaf Ch\u1ee9c n\u0103ng ch\xednh",id:"-ch\u1ee9c-n\u0103ng-ch\xednh",level:2},{value:"\ud83d\udd11 X\xe1c th\u1ef1c ng\u01b0\u1eddi d\xf9ng",id:"-x\xe1c-th\u1ef1c-ng\u01b0\u1eddi-d\xf9ng",level:3},{value:"\ud83d\udd04 Qu\u1ea3n l\xfd Token",id:"-qu\u1ea3n-l\xfd-token",level:3},{value:"\ud83d\udc65 H\u1ec7 th\u1ed1ng vai tr\xf2",id:"-h\u1ec7-th\u1ed1ng-vai-tr\xf2",level:3},{value:"\ud83d\udc64 Th\xf4ng tin ng\u01b0\u1eddi d\xf9ng",id:"-th\xf4ng-tin-ng\u01b0\u1eddi-d\xf9ng",level:3},{value:"\ud83d\udd10 Ph\xe2n quy\u1ec1n RBAC",id:"-ph\xe2n-quy\u1ec1n-rbac",level:3},{value:"\ud83d\udd11 Qu\u1ea3n l\xfd API Key",id:"-qu\u1ea3n-l\xfd-api-key",level:3},{value:"\ud83d\udcbe L\u01b0u tr\u1eef d\u1eef li\u1ec7u",id:"-l\u01b0u-tr\u1eef-d\u1eef-li\u1ec7u",level:2},{value:"B\u1ea3ng Users",id:"b\u1ea3ng-users",level:3},{value:"B\u1ea3ng Refresh Tokens",id:"b\u1ea3ng-refresh-tokens",level:3},{value:"B\u1ea3ng API Keys",id:"b\u1ea3ng-api-keys",level:3},{value:"\ud83d\udd12 T\xednh n\u0103ng b\u1ea3o m\u1eadt",id:"-t\xednh-n\u0103ng-b\u1ea3o-m\u1eadt",level:2},{value:"\ud83d\udcc4 License",id:"-license",level:2}];function o(n){const e={a:"a",br:"br",h1:"h1",h2:"h2",h3:"h3",hr:"hr",li:"li",p:"p",strong:"strong",ul:"ul",...(0,r.R)(),...n.components};return(0,t.jsxs)(t.Fragment,{children:[(0,t.jsx)(e.h1,{id:"-auth-service",children:"\ud83d\udd10 Auth Service"}),"\n",(0,t.jsx)(e.h2,{id:"-t\u1ed5ng-quan",children:"\ud83d\udccb T\u1ed5ng quan"}),"\n",(0,t.jsxs)(e.p,{children:[(0,t.jsx)(e.strong,{children:"Ng\xf4n ng\u1eef l\u1eadp tr\xecnh:"})," Python 3.11 + FastAPI",(0,t.jsx)(e.br,{}),"\n",(0,t.jsx)(e.strong,{children:"Port:"})," 8001",(0,t.jsx)(e.br,{}),"\n",(0,t.jsx)(e.strong,{children:"Database:"})," PostgreSQL",(0,t.jsx)(e.br,{}),"\n",(0,t.jsx)(e.strong,{children:"Tr\u1ea1ng th\xe1i:"})," \u2705 Ho\u1ea1t \u0111\u1ed9ng"]}),"\n",(0,t.jsxs)(e.p,{children:["Auth Service cung c\u1ea5p x\xe1c th\u1ef1c v\xe0 ph\xe2n quy\u1ec1n cho h\u1ec7 th\u1ed1ng ",(0,t.jsx)(e.strong,{children:"GreenEduMap"}),", s\u1eed d\u1ee5ng JWT tokens v\xe0 h\u1ed7 tr\u1ee3 nhi\u1ec1u vai tr\xf2 ng\u01b0\u1eddi d\xf9ng."]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"-ch\u1ee9c-n\u0103ng-ch\xednh",children:"\ud83c\udfaf Ch\u1ee9c n\u0103ng ch\xednh"}),"\n",(0,t.jsx)(e.h3,{id:"-x\xe1c-th\u1ef1c-ng\u01b0\u1eddi-d\xf9ng",children:"\ud83d\udd11 X\xe1c th\u1ef1c ng\u01b0\u1eddi d\xf9ng"}),"\n",(0,t.jsx)(e.p,{children:"Ng\u01b0\u1eddi d\xf9ng c\xf3 th\u1ec3 \u0111\u0103ng k\xfd t\xe0i kho\u1ea3n b\u1eb1ng email ho\u1eb7c username k\u1ebft h\u1ee3p password. M\u1eadt kh\u1ea9u \u0111\u01b0\u1ee3c m\xe3 h\xf3a an to\xe0n b\u1eb1ng thu\u1eadt to\xe1n Bcrypt v\u1edbi 12 rounds. H\u1ec7 th\u1ed1ng h\u1ed7 tr\u1ee3 x\xe1c th\u1ef1c email t\xf9y ch\u1ecdn v\xe0 k\xedch ho\u1ea1t t\xe0i kho\u1ea3n."}),"\n",(0,t.jsx)(e.h3,{id:"-qu\u1ea3n-l\xfd-token",children:"\ud83d\udd04 Qu\u1ea3n l\xfd Token"}),"\n",(0,t.jsx)(e.p,{children:"S\u1eed d\u1ee5ng h\u1ec7 th\u1ed1ng JWT v\u1edbi hai lo\u1ea1i token:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Access Token"}),": Th\u1eddi h\u1ea1n ng\u1eafn (15 ph\xfat), ch\u1ee9a th\xf4ng tin user_id, email v\xe0 role, d\xf9ng cho x\xe1c th\u1ef1c c\xe1c request"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Refresh Token"}),": Th\u1eddi h\u1ea1n d\xe0i (7 ng\xe0y), l\u01b0u trong database, \u0111\u01b0\u1ee3c rotate m\u1ed7i l\u1ea7n s\u1eed d\u1ee5ng"]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"-h\u1ec7-th\u1ed1ng-vai-tr\xf2",children:"\ud83d\udc65 H\u1ec7 th\u1ed1ng vai tr\xf2"}),"\n",(0,t.jsx)(e.p,{children:"N\u0103m vai tr\xf2 ng\u01b0\u1eddi d\xf9ng v\u1edbi quy\u1ec1n h\u1ea1n kh\xe1c nhau:"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Admin"})," - To\xe0n quy\u1ec1n qu\u1ea3n tr\u1ecb h\u1ec7 th\u1ed1ng"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Developer"})," - Qu\u1ea3n l\xfd API key v\xe0 t\xednh n\u0103ng ph\xe1t tri\u1ec3n"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Volunteer"})," - Tham gia ho\u1ea1t \u0111\u1ed9ng c\u1ee9u tr\u1ee3 v\xe0 c\u1ed9ng \u0111\u1ed3ng"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Citizen"})," - Truy c\u1eadp c\u01a1 b\u1ea3n v\xe0 b\xe1o c\xe1o"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"School"})," - Qu\u1ea3n l\xfd tr\u01b0\u1eddng h\u1ecdc v\xe0 t\xednh n\u0103ng gi\xe1o d\u1ee5c"]}),"\n"]}),"\n",(0,t.jsx)(e.h3,{id:"-th\xf4ng-tin-ng\u01b0\u1eddi-d\xf9ng",children:"\ud83d\udc64 Th\xf4ng tin ng\u01b0\u1eddi d\xf9ng"}),"\n",(0,t.jsx)(e.p,{children:"M\u1ed7i user profile bao g\u1ed3m email v\xe0 username (duy nh\u1ea5t), vai tr\xf2 \u0111\u01b0\u1ee3c g\xe1n, tr\u1ea1ng th\xe1i ho\u1ea1t \u0111\u1ed9ng, t\xecnh tr\u1ea1ng x\xe1c th\u1ef1c email, v\xe0 c\u1edd public/private cho tu\xe2n th\u1ee7 OpenData."}),"\n",(0,t.jsx)(e.h3,{id:"-ph\xe2n-quy\u1ec1n-rbac",children:"\ud83d\udd10 Ph\xe2n quy\u1ec1n RBAC"}),"\n",(0,t.jsx)(e.p,{children:"H\u1ec7 th\u1ed1ng Role-Based Access Control v\u1edbi middleware ki\u1ec3m tra quy\u1ec1n, b\u1ea3o v\u1ec7 route theo vai tr\xf2, ph\xe2n quy\u1ec1n c\u1ea5p t\xe0i nguy\xean v\xe0 h\u1ec7 th\u1ed1ng role ph\xe2n c\u1ea5p."}),"\n",(0,t.jsx)(e.h3,{id:"-qu\u1ea3n-l\xfd-api-key",children:"\ud83d\udd11 Qu\u1ea3n l\xfd API Key"}),"\n",(0,t.jsx)(e.p,{children:"Developers c\xf3 th\u1ec3 t\u1ea1o API key v\u1edbi quy\u1ec1n h\u1ea1n \u0111\u01b0\u1ee3c gi\u1edbi h\u1ea1n, m\u1ed7i key c\xf3 rate limit ri\xeang v\xe0 c\xf3 th\u1ec3 b\u1ecb thu h\u1ed3i khi c\u1ea7n thi\u1ebft."}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"-l\u01b0u-tr\u1eef-d\u1eef-li\u1ec7u",children:"\ud83d\udcbe L\u01b0u tr\u1eef d\u1eef li\u1ec7u"}),"\n",(0,t.jsx)(e.h3,{id:"b\u1ea3ng-users",children:"B\u1ea3ng Users"}),"\n",(0,t.jsx)(e.p,{children:"L\u01b0u tr\u1eef th\xf4ng tin ng\u01b0\u1eddi d\xf9ng bao g\u1ed3m ID (UUID), email, username, m\u1eadt kh\u1ea9u \u0111\xe3 hash, vai tr\xf2, tr\u1ea1ng th\xe1i ho\u1ea1t \u0111\u1ed9ng v\xe0 x\xe1c th\u1ef1c, c\xf9ng th\u1eddi gian t\u1ea1o v\xe0 c\u1eadp nh\u1eadt."}),"\n",(0,t.jsx)(e.h3,{id:"b\u1ea3ng-refresh-tokens",children:"B\u1ea3ng Refresh Tokens"}),"\n",(0,t.jsx)(e.p,{children:"Theo d\xf5i refresh tokens v\u1edbi user_id li\xean k\u1ebft, token \u0111\xe3 hash, th\u1eddi h\u1ea1n v\xe0 tr\u1ea1ng th\xe1i thu h\u1ed3i."}),"\n",(0,t.jsx)(e.h3,{id:"b\u1ea3ng-api-keys",children:"B\u1ea3ng API Keys"}),"\n",(0,t.jsx)(e.p,{children:"Qu\u1ea3n l\xfd API keys v\u1edbi user_id s\u1edf h\u1eefu, key \u0111\xe3 hash, quy\u1ec1n h\u1ea1n scope v\xe0 rate limit."}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"-t\xednh-n\u0103ng-b\u1ea3o-m\u1eadt",children:"\ud83d\udd12 T\xednh n\u0103ng b\u1ea3o m\u1eadt"}),"\n",(0,t.jsxs)(e.ul,{children:["\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Password Hashing"}),": Bcrypt v\u1edbi 12 rounds v\xe0 salt ri\xeang cho m\u1ed7i password"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"JWT Tokens"}),": K\xfd v\u1edbi thu\u1eadt to\xe1n HS256"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Token Expiration"}),": Access token ng\u1eafn h\u1ea1n \u0111\u1ec3 gi\u1ea3m r\u1ee7i ro"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Refresh Token Rotation"}),": Token m\u1edbi \u0111\u01b0\u1ee3c c\u1ea5p m\u1ed7i l\u1ea7n refresh"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"API Key Hashing"}),": Key \u0111\u01b0\u1ee3c l\u01b0u tr\u1eef d\u1ea1ng hash"]}),"\n",(0,t.jsxs)(e.li,{children:[(0,t.jsx)(e.strong,{children:"Rate Limiting"}),": Gi\u1edbi h\u1ea1n theo user v\xe0 API key"]}),"\n"]}),"\n",(0,t.jsx)(e.hr,{}),"\n",(0,t.jsx)(e.h2,{id:"-license",children:"\ud83d\udcc4 License"}),"\n",(0,t.jsxs)(e.p,{children:["D\u1ef1 \xe1n n\xe0y \u0111\u01b0\u1ee3c ph\xe2n ph\u1ed1i d\u01b0\u1edbi ",(0,t.jsx)(e.a,{href:"https://github.com/HoDuongQuocHuy278/GreenEduMap-DTUDZ/blob/main/LICENSE",children:"GNU General Public License v3.0"}),"."]})]})}function u(n={}){const{wrapper:e}={...(0,r.R)(),...n.components};return e?(0,t.jsx)(e,{...n,children:(0,t.jsx)(o,{...n})}):o(n)}},8453:(n,e,i)=>{i.d(e,{R:()=>s,x:()=>c});var t=i(6540);const r={},h=t.createContext(r);function s(n){const e=t.useContext(h);return t.useMemo(function(){return"function"==typeof n?n(e):{...e,...n}},[e,n])}function c(n){let e;return e=n.disableParentContext?"function"==typeof n.components?n.components(r):n.components||r:s(n.components),t.createElement(h.Provider,{value:e},n.children)}}}]);